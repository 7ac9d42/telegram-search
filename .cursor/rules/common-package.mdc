---
description:
globs:
alwaysApply: false
---
# Common Package

[packages/common](mdc:packages/common) 是项目的公共包，包含各种共享工具和功能。

## 主要组件

### Composables

[packages/common/src/composable](mdc:packages/common/src/composable) 包含可复用的组合式函数：

- **useConfig.ts**: [packages/common/src/composable/useConfig.ts](mdc:packages/common/src/composable/useConfig.ts) 配置管理函数

### Helper 工具

[packages/common/src/helper](mdc:packages/common/src/helper) 包含各种辅助工具函数：

- **logger.ts**: [packages/common/src/helper/logger.ts](mdc:packages/common/src/helper/logger.ts) 日志记录工具
- **config-schema.ts**: [packages/common/src/helper/config-schema.ts](mdc:packages/common/src/helper/config-schema.ts) 配置模式定义
- **default-config.ts**: [packages/common/src/helper/default-config.ts](mdc:packages/common/src/helper/default-config.ts) 默认配置

## Logger 使用

日志工具 `useLogger()` 基于 @guiiai/logg 构建，提供了便捷的日志记录功能：

```ts
import { useLogger } from 'packages/common'

// 基本使用
useLogger().log('日志消息')

// 带字段记录
useLogger().withFields({ user: 'admin', action: 'login' }).info('用户登录')

// 错误记录
useLogger().withErr(new Error('失败原因')).error('操作失败')
```

自动收集调用位置信息，无需手动指定日志来源。
